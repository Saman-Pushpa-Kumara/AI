javascript:(function(){if(window.ytpro_popup_active){document.getElementById('ytpro_popup')?.remove();window.ytpro_popup_active=false;return;}window.ytpro_popup_active=true;try{var s=document.createElement('script');s.src='https://cdn.jsdelivr.net/npm/ytpro';s.async=true;document.body.appendChild(s);}catch(e){}function q(sel){return document.querySelector(sel);}function getVideo(){return document.querySelector('video');}function getVidID(){try{var p=new URL(location.href);return p.searchParams.get('v')||'';}catch(e){return ''}}var id=getVidID();var popup=document.createElement('div');popup.id='ytpro_popup';popup.style.position='fixed';popup.style.right='12px';popup.style.top='12px';popup.style.zIndex=9999999;popup.style.background='#0f172a';popup.style.color='#fff';popup.style.padding='10px';popup.style.borderRadius='8px';popup.style.boxShadow='0 6px 18px rgba(2,6,23,0.6)';popup.style.fontFamily='Arial, Helvetica, sans-serif';popup.style.fontSize='13px';popup.style.minWidth='170px';popup.innerHTML='\n  <div style=\"display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;\">\n    <strong style=\"font-size:13px\">YTPro • Mini</strong>\n    <button id=\"ytpro_close\" style=\"background:transparent;border:0;color:#fff;font-weight:bold;cursor:pointer\">✕</button>\n  </div>\n  <div style=\"display:flex;flex-direction:column;gap:6px\">\n    <button id=\"ytpro_invid\" style=\"padding:7px;border-radius:6px;border:0;cursor:pointer\">Open in Invidious</button>\n    <button id=\"ytpro_skip\" style=\"padding:7px;border-radius:6px;border:0;cursor:pointer\">Auto-skip ads</button>\n    <button id=\"ytpro_pip\" style=\"padding:7px;border-radius:6px;border:0;cursor:pointer\">Picture-in-Picture</button>\n    <button id=\"ytpro_copy\" style=\"padding:7px;border-radius:6px;border:0;cursor:pointer\">Copy video URL</button>\n  </div>\n  <div style=\"margin-top:8px;font-size:11px;opacity:0.8\">Tip: click again to close</div>\n';document.body.appendChild(popup);\n// style buttons (simple)\n['ytpro_invid','ytpro_skip','ytpro_pip','ytpro_copy'].forEach(function(id){var b=document.getElementById(id);if(b){b.style.background='#111827';b.style.color='#fff';b.onmouseenter=function(){b.style.opacity=0.9};b.onmouseleave=function(){b.style.opacity=1}}});\n// Close\ndocument.getElementById('ytpro_close').onclick=function(){popup.remove();window.ytpro_popup_active=false};\n// Invidious (open instance) — helpful to stream/download via an invidious instance\ndocument.getElementById('ytpro_invid').onclick=function(){var vid=getVidID();if(!vid){navigator.clipboard.writeText(location.href);alert('No video ID found — URL copied.');return;}var url='https://yewtu.cafe/watch?v='+vid;window.open(url,'_blank');};\n// Copy URL\ndocument.getElementById('ytpro_copy').onclick=function(){navigator.clipboard.writeText(location.href).then(function(){var a=document.createElement('div');a.textContent='URL copied';a.style.position='fixed';a.style.right='12px';a.style.top='80px';a.style.background='#111827';a.style.color='#fff';a.style.padding='6px 8px';a.style.borderRadius='6px';a.style.zIndex=99999999;document.body.appendChild(a);setTimeout(function(){a.remove()},1200);});};\n// Auto-skip ads (tries to click skip buttons and close overlays)\nvar skipInterval=null;document.getElementById('ytpro_skip').onclick=function(){if(skipInterval){clearInterval(skipInterval);skipInterval=null;this.textContent='Auto-skip ads';alert('Auto-skip stopped');return;}var btn=this;skipInterval=setInterval(function(){try{var skip=q('.ytp-ad-skip-button.ytp-button');if(skip){skip.click();btn.textContent='Auto-skip ads (running)';}\nvar close=q('.ytp-ad-overlay-slot .ytp-ad-overlay-close-button');if(close){close.click();}\n// also try to click any generic ad close\nvar generic=q('.ytp-ad-player-overlay .ytp-ad-overlay-close-button');if(generic){generic.click();}\n// attempt to unmute if ad blocks video\nvar v=getVideo();if(v && v.muted && document.querySelector('.ytp-ad-player-overlay')){v.muted=false}\n}catch(e){}},800);alert('Auto-skip started — will try to click skip buttons.');};\n// PiP\ndocument.getElementById('ytpro_pip').onclick=async function(){var v=getVideo();if(!v){alert('No video element found on page');return;}try{if(document.pictureInPictureElement){await document.exitPictureInPicture();return;}await v.requestPictureInPicture();}catch(e){alert('PiP not available: '+e.message)} };\n// allow closing by pressing Esc as well\ndocument.addEventListener('keydown',function(e){if(e.key==='Escape'){popup.remove();window.ytpro_popup_active=false}});\n})();
